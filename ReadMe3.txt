Никита Семенихин, здравствуйте!

В папке Lesson_3_Distance выполнено ДЗ к уроку №3.

Задание 1. Напишите тесты производительности для расчёта дистанции между точками с помощью BenchmarkDotNet.

Для каких методов потребуется написать тест:
1) Обычный метод расчёта дистанции со ссылочным типом (PointClass — координаты типа float).
2) Обычный метод расчёта дистанции со значимым типом (PointStruct — координаты типа float).
3) Обычный метод расчёта дистанции со значимым типом (PointStruct — координаты типа double).
4) Метод расчёта дистанции без квадратного корня со значимым типом (PointStruct — координаты типа float).



Результат работы программы:

BenchmarkDotNet=v0.13.1, OS=Windows 7 SP1 (6.1.7601.0)
Intel Core i7-3770K CPU 3.50GHz (Ivy Bridge), 1 CPU, 8 logical and 4 physical cores
Frequency=3410273 Hz, Resolution=293.2317 ns, Timer=TSC
.NET SDK=5.0.301
  [Host]     : .NET Core 3.1.16 (CoreCLR 4.700.21.26205, CoreFX 4.700.21.26205), X64 RyuJIT
  DefaultJob : .NET Core 3.1.16 (CoreCLR 4.700.21.26205, CoreFX 4.700.21.26205), X64 RyuJIT


```
|                            Method |      Mean |     Error |    StdDev | Rank | Allocated |
|---------------------------------- |----------:|----------:|----------:|-----:|----------:|
|       PointDistanceClassFloatTest | 0.7072 ns | 0.0081 ns | 0.0076 ns |    4 |         - |
|      PointDistanceStructFloatTest | 0.2793 ns | 0.0040 ns | 0.0037 ns |    2 |         - |
|     PointDistanceStructDoubleTest | 0.2557 ns | 0.0048 ns | 0.0045 ns |    1 |         - |
| PointDistanceStructFloatShortTest | 0.3453 ns | 0.0040 ns | 0.0037 ns |    3 |         - |





По результатам тестирования скорости выполнения методы получили следующие места:
1) Обычный метод расчёта дистанции со значимым типом (PointStruct — координаты типа double).
2) Обычный метод расчёта дистанции со значимым типом (PointStruct — координаты типа float).
3) Метод расчёта дистанции без квадратного корня со значимым типом (PointStruct — координаты типа float).
4) Обычный метод расчёта дистанции со ссылочным типом (PointClass — координаты типа float).

На мой взгляд это связано с особенностью вычисления квадратного корня (так как тип данных по умолчанию для него double); а так же от размера результата вычисления, который хранится в памяти. Скорость работы с классом на последнем месте, так как стэк работал быстрее.


Задание было интересным, надо было подумать.

Студент Волощук Антон. Спасибо!